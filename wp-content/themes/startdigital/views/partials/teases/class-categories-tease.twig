{% set total_count = 0 %}
<article class="flex flex-col gap-4 xl:gap-6 relative text-wfac-dark-red group">
	<a href="{{ class_category.link.url }}" class="absolute h-full w-full inset-0 z-10"></a>
	<div class="aspect-[4/5] w-full relative p-4 2xl:p-6 rounded-2xl group-hover:rounded-3xl group-hover:2xl:rounded-[32px] overflow-hidden duration-500 ease-in-out flex flex-col gap-8">
		<img src="{{ get_image(class_category.image).src('large') }}" alt="{{ class_category.image.alt }}" class="absolute inset-0 w-full h-full object-cover group-hover:blur-xl duration-500 ease-in-out"/>
		<div class="absolute inset-0 bg-wfac-dark-red/75 duration-500 ease-in-out opacity-0 group-hover:opacity-100"></div>
		<div class=" flex flex-row flex-wrap gap-2 relative z-20 flex-grow items-center justify-center">
			<div class="flex flex-row max-lg:hidden flex-wrap gap-2 relative z-20 items-center">
				{% for term in terms %}
					{% set term = get_term(term.term_id) %}
					{% set total_count = total_count + term.count %}
					<div style="--delay: {{ loop.index * 0.05 }}s;" class="w-fit group-hover:delay-[--delay] opacity-0 translate-y-4 group-hover:translate-y-0 group-hover:opacity-100 duration-300 ease-in-out">
						<a href="{{ term.link }}" class="font-heading text-base 2xl:text-lg text-wfac-dark-red bg-wfac-cream hover:rounded-[2rem] transition-all hover:bg-wfac-accent-red rounded-lg py-0.5 pt-[6px] px-3 2xl:py-1.5 2xl:pt-2.5 2xl:px-6 h-fit w-fit flex flex-row gap-1 duration-300 ease-in-out">
							<span class="">
								{{ term.name }}
							</span>
							<span class="is-superscript">
								{{ term.count }}
							</span>
						</a>
					</div>
				{% endfor %}
			</div>
		</div>
		<button class="font-heading 2xl:text-xl text-wfac-dark-red bg-wfac-cream rounded-lg py-0.5 pt-[6px] px-3 2xl:py-1.5 2xl:pt-2.5 2xl:px-6 relative z-20 w-fit flex flex-row gap-1 opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 duration-300 ease-in-out hover:rounded-[2rem] transition-all hover:bg-wfac-accent-red">
			<span class="">
				View All
			</span>
			<span class="is-superscript">
				{{ total_count }}
			</span>
		</button>
	</div>
	<div class="flex flex-col gap-2">
		<h4 class="is-h3 group-hover:text-wfac-deep-red duration-300 ease-in-out">
			{{ class_category.link.title }}
		</h4>
		<div class="max-lg:hidden block-content max-w-[500px] opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 duration-300 ease-in-out group-hover:delay-150">
			{{ class_category.content }}
		</div>
	</div>
</article>
